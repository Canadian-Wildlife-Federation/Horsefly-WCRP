Traceback (most recent call last):
  File "C:\Users\TMillaKoch\Anaconda3\envs\test\lib\site-packages\jupyter_cache\executors\utils.py", line 56, in single_nb_execution
    record_timing=False,
  File "C:\Users\TMillaKoch\Anaconda3\envs\test\lib\site-packages\nbclient\client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "C:\Users\TMillaKoch\Anaconda3\envs\test\lib\site-packages\nbclient\util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "C:\Users\TMillaKoch\Anaconda3\envs\test\lib\site-packages\nbclient\util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "C:\Users\TMillaKoch\Anaconda3\envs\test\lib\asyncio\base_events.py", line 568, in run_until_complete
    return future.result()
  File "C:\Users\TMillaKoch\Anaconda3\envs\test\lib\site-packages\nbclient\client.py", line 664, in async_execute
    cell, index, execution_count=self.code_cells_executed + 1
  File "C:\Users\TMillaKoch\Anaconda3\envs\test\lib\site-packages\nbclient\client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "C:\Users\TMillaKoch\Anaconda3\envs\test\lib\site-packages\nbclient\client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
from ipyleaflet import *
from ipywidgets import HTML
import requests
import json
import pandas
from pandas import json_normalize


#setting the map to center and zoom
m = Map(center=(52.6,-120.5), zoom=8)

#alternate basemap tile
dm_layer = basemap_to_tiles(basemaps.CartoDB.DarkMatter)
m.add_layer(dm_layer)

#caching
#querying data from pg_featureserv API for bcfishpass
request = 'https://features.hillcrestgeo.ca/bcfishpass/collections/bcfishpass.streams/items.json'
query = '?properties=watershed_group_code&filter=watershed_group_code%20=%20%27HORS%27' #this query slows things down for some reason

request1 = 'https://features.hillcrestgeo.ca/bcfishpass/collections/bcfishpass.crossings/items.json'
query1 = '?filter=watershed_group_code%20=%20%27HORS%27%20AND%20all_spawningrearing_km%3e0'

response_API = requests.get(request+query)
response_API1 = requests.get(request1+query1)

parse = response_API.text
stream = json.loads(parse)

parse1 = response_API1.text
gjson = json.loads(parse1)
  


#converting json to geojson
geo = GeoJSON(data = stream,
              name = "stream")
m.add_layer(geo)

geo1 = GeoJSON(data=gjson,
               name="layer")

#m.add_layer(geo1)

#adding controls to map
control = LayersControl(position='topright')

#popup & marker cluster
markers = ()

#style for marker https://fontawesome.com/v4/icons/
icon = AwesomeIcon(
  name='wrench',
  marker_color='blue',
  icon_color='blue'
)

#https://carpentries-incubator.github.io/jupyter_maps/03-vector/index.html

features = gjson['features']
for i in range(len(features)):
    location=(features[i]['geometry']['coordinates'][1],features[i]['geometry']['coordinates'][0])
    instructors = (features[i]['id'])
    html = """
    <p>
      <h4>Table:        """ + " ".join(instructors) + """</h4>
    </p>
    """
    marker = Marker(icon = icon, location = location)

    # Popup associated to a layer
    marker.popup = HTML(html)
    #m.add_layer(marker)

    #marker cluster markers
    markers = markers + (marker,)

m.add_layer(MarkerCluster(markers = markers, name="Crossings"))
    




m.add_control(control)


#displaying map inline
display(m, metadata={"tags":["hide-input"]})

------------------

[1;31m---------------------------------------------------------------------------[0m
[1;31mModuleNotFoundError[0m                       Traceback (most recent call last)
[1;32m~\AppData\Local\Temp\ipykernel_22516\4163515670.py[0m in [0;36m<module>[1;34m[0m
[1;32m----> 1[1;33m [1;32mfrom[0m [0mipyleaflet[0m [1;32mimport[0m [1;33m*[0m[1;33m[0m[0m
[0m[0;32m      2[0m [1;32mfrom[0m [0mipywidgets[0m [1;32mimport[0m [0mHTML[0m[1;33m[0m[0m
[0;32m      3[0m [1;32mimport[0m [0mrequests[0m[1;33m[0m[0m
[0;32m      4[0m [1;32mimport[0m [0mjson[0m[1;33m[0m[0m
[0;32m      5[0m [1;32mimport[0m [0mpandas[0m[1;33m[0m[0m

[1;31mModuleNotFoundError[0m: No module named 'ipyleaflet'
ModuleNotFoundError: No module named 'ipyleaflet'

